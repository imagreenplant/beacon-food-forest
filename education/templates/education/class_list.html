{% extends "base/app-page-content.html" %} 
{% load staticfiles %} 
{% load custom_markdown %}
{% block app-content %}
    <h2 class="asset-page">{{ title }}</h2>
    {% if classes %}
        {% for class in classes %}
            <div class="app-listing">        
                <a href="{% url 'class-detail' class.class_slug_url %}"><h3>{{ class.title}}</h3></a>
                <div id="class-primary-image">
                </div>
                <div class="class-text-content">
                    <p>Date: {{ class.event_date }}   From {{ class.event_start_time }} until {{ class.event_end_time }}</p>
                    <p>Tickets: {{ class.ticket_link }}</p>
                    <p class="description">{{ class.class_description|parse_markdown }}</p>
                    <p>Location: <a href="{{ class.class_location_link }}">{{ class.class_location }}</a></p>
                </div>
                {# https://developers.google.com/structured-data/rich-snippets/events #}
                {# https://schema.org/Event #}
                {# https://schema.org/EducationEvent #}
                <script type="application/ld+json">
                    {
                      "@context": "http://schema.org",
                      "@type": "EducationEvent",
                      "name": "Class: {{ class.title }}",
                      "startDate" : "{{ class.event_date|date:"c"}}",
                      "url" : "{{ request.build_absolute_uri }}",
                      "location" : {
                        "@type" : "Place",
                        "name" : "{{ class.class_location }}",
                        "address" : "{{ class.class_location }}"
                      },
                      "offers" : {
                        "@type" : "Offer",
                        "price":"{{ class.price }}",
                        "priceCurrency":"USD",
                        "url":"{{ class.ticket_link }}"
                      }
                    }
                </script>
            </div>
        {% endfor %}
    {% endif %}
{% endblock app-content %}
{% block app-sidenav %}
  {% include "education/education-sidenav.html" %}
{% endblock app-sidenav %}
