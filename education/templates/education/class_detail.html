{% extends "base/app-page-content.html" %} 
{% load staticfiles %} 
{% load custom_markdown %}
{% block app-content %}
    {% if class %}
        <div id="class-primary-image">
        </div>
        <div class="app-listing">
            <h2>{{ class.title}}</h2>
            <p>Date: <strong>{{ class.event_date }}</strong> <i>From {{ class.event_start_time }} until {{ class.event_end_time }}</i></p>
            <p><span class="blue"><a href="{{ class.ticket_link }}">Get tickets</a></span> </p>
            <p class="description">{{ class.class_description|parse_markdown }}</p>
            {% if class.class_location %}
                <p>Location: 
                    {% if class.class_location_link %}
                        <span class="blue"><a href="{{ class.class_location_link }}">
                    {% endif %}
                    {{ class.class_location }}
                    {% if class.class_location_link %}
                        </a></span>
                    {% endif %}
                </p>
            {% endif %}
            <script type="application/ld+json">
                {
                  "@context": "http://schema.org",
                  "@type": "EducationEvent",
                  "name": "Class: {{ class.title }}",
                  "startDate" : "{{ class.event_date|date:"c"}}",
                  "url" : "{{ request.build_absolute_uri }}",
                  "location" : {
                    "@type" : "Place",
                    "name" : "{{ class.class_location }}",
                    "address" : "{{ class.class_location }}"
                  },
                  "offers" : {
                    "@type" : "Offer",
                    "price":"{{ class.price }}",
                    "priceCurrency":"USD",
                    "url":"{{ class.ticket_link }}"
                  }
                }
            </script>
        </div>
    {% endif %}
{% endblock app-content %}
{% block app-sidenav %}
  {% include "education/education-sidenav.html" %}
{% endblock app-sidenav %}
